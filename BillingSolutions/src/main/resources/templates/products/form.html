<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Product</title>-->
<!--    <script>-->
<!--        function toggleFields() {-->
<!--            const unitType = document.getElementById("unitTypeSelect").value;-->
<!--            const pcsFields = document.getElementById("pcs-fields");-->
<!--            const kgFields = document.getElementById("kg-fields");-->

<!--            if (unitType === "PCS") {-->
<!--                pcsFields.style.display = "block";-->
<!--                kgFields.style.display = "none";-->
<!--            } else if (unitType === "KG") {-->
<!--                pcsFields.style.display = "none";-->
<!--                kgFields.style.display = "block";-->
<!--            } else {-->
<!--                pcsFields.style.display = "none";-->
<!--                kgFields.style.display = "none";-->
<!--            }-->
<!--        }-->

<!--        window.addEventListener("DOMContentLoaded", toggleFields);-->
<!--    </script>-->
<!--</head>-->
<!--<body>-->
<!--    <h2>Product</h2>-->

<!--     Use th:if to separate create and update action -->
  
<!--	<form th:object="${product}" -->
<!--		      th:action="${product.id != null} ? @{/products/{id}(id=${product.id})} : @{/products}" -->
<!--		      method="post">-->

<!--        <div>-->
<!--            <label>Name</label>-->
<!--            <input th:field="*{name}" required />-->
<!--        </div>-->

<!--        <div>-->
<!--            <label>SKU</label>-->
<!--            <input th:field="*{sku}" />-->
<!--        </div>-->

<!--        <div>-->
<!--            <label>Selling Price</label>-->
<!--            <input th:field="*{sellingPrice}" type="number" step="0.01" required />-->
<!--        </div>-->

<!--        <div>-->
<!--            <label>Cost Price</label>-->
<!--            <input th:field="*{costPrice}" type="number" step="0.01" required />-->
<!--        </div>-->

<!--        <div>-->
<!--            <label>Unit type</label>-->
<!--            <select id="unitTypeSelect" th:field="*{unitType}" onchange="toggleFields()">-->
<!--                <option th:value="PCS" th:selected="${product.unitType == T(com.billingsolutions.model.UnitType).PCS}">PCS</option>-->
<!--                <option th:value="KG" th:selected="${product.unitType == T(com.billingsolutions.model.UnitType).KG}">KG</option>-->
<!--            </select>-->
<!--        </div>-->

<!--         PCS-specific fields -->
<!--        <div id="pcs-fields" style="display:none; margin-top: 10px;">-->
<!--            <div>-->
<!--                <label>Number of Boxes</label>-->
<!--                <input th:field="*{numberOfBoxes}" type="number" step="1" min="0" />-->
<!--            </div>-->
<!--            <div>-->
<!--                <label>Units per Box</label>-->
<!--                <input th:field="*{unitsPerBox}" type="number" step="1" min="1" />-->
<!--            </div>-->
<!--        </div>-->

<!--         KG-specific fields -->
<!--        <div id="kg-fields" style="display:none; margin-top: 10px;">-->
<!--            <div>-->
<!--                <label>Weight per Item (Kg)</label>-->
<!--                <input th:field="*{weightPerItem}" type="number" step="0.01" min="0.01" />-->
<!--            </div>-->
<!--            <div>-->
<!--                <label>Total Weight of Bag (Kg)</label>-->
<!--                <input th:field="*{totalBagWeight}" type="number" step="0.01" min="0.01" />-->
<!--            </div>-->
<!--            <div>-->
<!--                <label>Total Number of Bags</label>-->
<!--                <input th:field="*{totalBags}" type="number" step="1" min="1" />-->
<!--            </div>-->
<!--        </div>-->

<!--        <div style="margin-top: 15px;">-->
<!--            <button type="submit">Save</button>-->
<!--        </div>-->

<!--    </form>-->
	
<!--This is completly working -->



<!--	<form th:object="${product}" -->
<!--	      th:action="${product.id != null} ? @{/products/{id}(id=${product.id})} : @{/products}" -->
<!--	      method="post">-->
<!--		<div>-->
<!--		<lable>Product Name</lable>-->
<!--	    <input type="text" th:field="*{name}" placeholder="Product Name"/>-->
<!--		</div>-->
<!--		<div>-->
<!--		<lable>Cost price per pcs</lable>-->
<!--	    <input type="number" th:field="*{costPrice}" placeholder="Cost Price"/>-->
<!--		</div>-->
<!--		<div>-->
<!--		<lable>Selling price per pcs</lable>-->
<!--	    <input type="number" th:field="*{sellingPrice}" placeholder="Selling Price"/>-->
<!--		</div>-->
<!--		<div>-->
<!--		<select th:field="*{unitType}">-->
<!--		    <option th:each="ut : ${T(com.billingsolutions.model.UnitType).values()}"-->
<!--		            th:value="${ut}" th:text="${ut}"></option>-->
<!--		</select>-->
<!--		</div>-->
		
<!--	    <button type="submit">Save</button>-->
<!--	</form>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            width: 250px;
            padding: 5px;
            margin-bottom: 15px;
        }
        button {
            padding: 8px 15px;
            font-size: 16px;
        }
    </style>
</head>
<body>

<h2 th:text="${product.id != null} ? 'Edit Product' : 'Create Product'"></h2>

<form th:object="${product}" 
      th:action="${product.id != null} ? @{/products/{id}(id=${product.id})} : @{/products}" 
      method="post">

    <div>
        <label>Name</label>
        <input th:field="*{name}" placeholder="Product Name" required />
    </div>

    <div>
        <label>SKU</label>
        <input th:field="*{sku}" placeholder="Product SKU" />
    </div>

    <div>
        <label>Selling Price</label>
        <input th:field="*{sellingPrice}" type="number" step="0.01" placeholder="Selling Price" required />
    </div>

    <div>
        <label>Cost Price</label>
        <input th:field="*{costPrice}" type="number" step="0.01" placeholder="Cost Price" required />
    </div>

    <div>
        <label>GST Rate (%)</label>
        <select th:field="*{gstRate}">
            <option value="0.00">0%</option>
            <option value="5.00">5%</option>
            <option value="12.00">12%</option>
            <option value="18.00">18%</option>
            <option value="40.00">40%</option>
        </select>
    </div>

<!--    <div>-->
<!--        <label>Unit Type</label>-->
<!--        <select id="unitTypeSelect" th:field="*{unitType}" onchange="toggleFields()">-->
<!--            <option th:value="PCS" th:selected="${product.unitType == T(com.billingsolutions.model.UnitType).PCS}">PCS</option>-->
<!--            <option th:value="KG" th:selected="${product.unitType == T(com.billingsolutions.model.UnitType).KG}">KG</option>-->
<!--        </select>-->
<!--    </div>-->
	<div>
	    <label for="unitType">Unit Type</label>
	    <select id="unitTypeSelect" th:field="*{unitType}" onchange="toggleFields()">
	        <option th:each="ut : ${T(com.billingsolutions.model.UnitType).values()}"
	                th:value="${ut}"
	                th:text="${ut}">
	        </option>
	    </select>
	</div>

     PCS-specific fields 
    <div id="pcs-fields" style="display:none; margin-top: 10px;">
        <div>
            <label>Number of Boxes</label>
            <input th:field="*{numberOfBoxes}" type="number" step="1" min="0" />
        </div>
        <div>
            <label>Units per Box</label>
            <input th:field="*{unitsPerBox}" type="number" step="1" min="0" />
        </div>
    </div>

     KG-specific fields 
    <div id="kg-fields" style="display:none; margin-top: 10px;">
        <div>
            <label>Weight per Item (Kg)</label>
            <input th:field="*{weightPerItem}" type="number" step="0.01" min="0.00" />
        </div>
        <div>
            <label>Total Weight of Bag (Kg)</label>
            <input th:field="*{totalBagWeight}" type="number" step="0.01" min="0.00" />
        </div>
        <div>
            <label>Total Number of Bags</label>
            <input th:field="*{totalBags}" type="number" step="1" min="0" />
        </div>
    </div>

    <div>
        <button type="submit">Save</button>
    </div>

</form>

<script>
    function toggleFields() {
        const unitType = document.getElementById("unitTypeSelect").value;
        document.getElementById("pcs-fields").style.display = unitType === "PCS" ? "block" : "none";
        document.getElementById("kg-fields").style.display = unitType === "KG" ? "block" : "none";
    }

    window.addEventListener('DOMContentLoaded', () => {
        toggleFields();
    });
</script>

</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Product Form</title>-->
<!--    <script>-->
<!--        function toggleFields() {-->
<!--            const unitType = document.getElementById("unitTypeSelect").value;-->
<!--            const pcsFields = document.getElementById("pcs-fields");-->
<!--            const kgFields = document.getElementById("kg-fields");-->

<!--            if (unitType === 'PCS') {-->
<!--                pcsFields.style.display = 'block';-->
<!--                kgFields.style.display = 'none';-->
<!--            } else if (unitType === 'KG') {-->
<!--                pcsFields.style.display = 'none';-->
<!--                kgFields.style.display = 'block';-->
<!--            } else {-->
<!--                pcsFields.style.display = 'none';-->
<!--                kgFields.style.display = 'none';-->
<!--            }-->
<!--        }-->

<!--        // Run on page load to set correct fields-->
<!--        window.onload = toggleFields;-->
<!--    </script>-->
<!--</head>-->
<!--<body>-->
<!--<h2 th:text="${product.id != null} ? 'Edit Product' : 'Add Product'"></h2>-->

<!--<form th:object="${product}" -->
<!--      th:action="(${product.id} != null) ? @{/products/{id}(id=${product.id})} : @{/products}" -->
<!--      method="post">-->

<!--     CSRF Token for Spring Security -->
<!--    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->

<!--    <div>-->
<!--        <label>Name</label>-->
<!--        <input th:field="*{name}" required />-->
<!--    </div>-->

<!--    <div>-->
<!--        <label>SKU</label>-->
<!--        <input th:field="*{sku}" />-->
<!--    </div>-->

<!--    <div>-->
<!--        <label>Selling Price</label>-->
<!--        <input th:field="*{sellingPrice}" type="number" step="0.01" required />-->
<!--    </div>-->

<!--    <div>-->
<!--        <label>Cost Price</label>-->
<!--        <input th:field="*{costPrice}" type="number" step="0.01" required />-->
<!--    </div>-->

<!--    <div>-->
<!--        <label>Unit Type</label>-->
<!--        <select id="unitTypeSelect" th:field="*{unitType}" onchange="toggleFields()">-->
<!--            <option th:value="PCS" th:selected="${product.unitType == T(com.billingsolutions.model.UnitType).PCS}">PCS</option>-->
<!--            <option th:value="KG" th:selected="${product.unitType == T(com.billingsolutions.model.UnitType).KG}">KG</option>-->
<!--        </select>-->
<!--    </div>-->

<!--     PCS-specific fields -->
<!--    <div id="pcs-fields" style="display:none; margin-top: 10px;">-->
<!--        <div>-->
<!--            <label>Number of Boxes</label>-->
<!--            <input th:field="*{numberOfBoxes}" type="number" step="1" min="0" />-->
<!--        </div>-->
<!--        <div>-->
<!--            <label>Units per Box</label>-->
<!--            <input th:field="*{unitsPerBox}" type="number" step="1" min="0" />-->
<!--        </div>-->
<!--    </div>-->

<!--     KG-specific fields -->
<!--    <div id="kg-fields" style="display:none; margin-top: 10px;">-->
<!--        <div>-->
<!--            <label>Weight per Item (Kg)</label>-->
<!--            <input th:field="*{weightPerItem}" type="number" step="0.01" min="0.00" />-->
<!--        </div>-->
<!--        <div>-->
<!--            <label>Total Weight of Bag (Kg)</label>-->
<!--            <input th:field="*{totalBagWeight}" type="number" step="0.01" min="0.00" />-->
<!--        </div>-->
<!--        <div>-->
<!--            <label>Total Number of Bags</label>-->
<!--            <input th:field="*{totalBags}" type="number" step="1" min="0" />-->
<!--        </div>-->
<!--    </div>-->

<!--    <div style="margin-top: 15px;">-->
<!--        <button type="submit">Save</button>-->
<!--    </div>-->

<!--</form>-->
<!--</body>-->
<!--</html>-->

